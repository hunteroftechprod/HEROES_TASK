# Heroes Project

Проект Heroes посвящён разработке алгоритмов для пошаговой стратегии с боевой системой. В задании вам предстоит реализовать ключевые алгоритмы, которые отвечают за генерацию армии противника, симуляцию пошагового боя, определение доступных целей для атаки и поиск кратчайшего пути между юнитами.

Цель проекта — применить и закрепить знания по алгоритмам и структурам данных, разработав эффективные решения для игровых механик.

Особое внимание будет уделено:
- Алгоритмической эффективности реализованных решений (оптимальная сложность работы каждого метода);
- Корректной реализации логики боя (очередность ходов, устранение выбывших юнитов, корректное завершение боя);
- Оптимальному подбору состава армии противника по заданным ограничениям;
- Поиску кратчайшего маршрута на игровом поле с учётом препятствий (других юнитов).

Итоговый проект позволит закрепить навыки анализа сложности алгоритмов и работы со структурами данных и продемонстрировать умение применять классические алгоритмы (например, поиск пути в графе) в решении практических задач.

## Структура проекта

Проект состоит из нескольких модулей, организованных в виде Gradle-проектов:

- **heroes** — основной модуль игры. Отвечает за интерфейс, визуализацию и проведение боя, используя алгоритмы, реализованные студентом. Этот модуль подключает библиотеку `heroes_task_lib` и загружает алгоритмы из модуля задачи.
- **heroes_task** — модуль задания студента, в котором находятся заготовки реализаций четырёх требуемых алгоритмов. Студент должен имплементировать методы в этом модуле согласно спецификации. Модуль подключает библиотеку `heroes_task_lib` как зависимость.
- **heroes_task_lib** — библиотека (модуль) игры, содержащая основные классы и интерфейсы, необходимые для работы проекта. В том числе здесь определены интерфейсы `GeneratePreset`, `SimulateBattle`, `SuitableForAttackUnitsFinder` и `UnitTargetPathFinder`, методы которых предстоит реализовать.

Все модули используют **Gradle** в качестве системы сборки, что обеспечивает совместимость и удобство подключения библиотеки к проекту задания.

## Как запустить проект

1. Распакуйте архив `heroes.rar` в любом удобном месте. По пути архива с распакованной игрой не должно быть кириллицы.
2. Запустите игру одним из двух способов:
   - Убедитесь, что у вас установлена Java, и дважды щелкните левой кнопкой мыши по файлу `Heroes Battle-1.0.0.jar`.
   - Откройте PowerShell (или терминал) в папке с распакованной игрой и выполните команду:
     ```bash
     java -jar "Heroes Battle-1.0.0.jar"
     ```

3. Чтобы проверить ваше решение, поместите собранный JAR вашего проекта с реализованными интерфейсами в папку `heroes/jars`, заменив лежащий там `obf.jar`. Он автоматически подхватится игрой при запуске, и она будет использовать реализацию ваших алгоритмов.

## Требования к реализации

В проекте библиотеки игры `heroes_task_lib` определено четыре интерфейса, методы которых вам предстоит имплементировать в проекте `heroes_task` согласно документации. Это интерфейсы:

- **GeneratePreset**: Содержит метод `Army generate(List<Unit> unitList, int maxPoints)`, который отвечает за генерацию пресета армии противника.
- **SimulateBattle**: Содержит метод `void simulate(Army playerArmy, Army computerArmy)`, который отвечает за симуляцию боя между армиями.
- **SuitableForAttackUnitsFinder**: Содержит метод `List<Unit> getSuitableUnits(List<List<Unit>> unitsByRow, boolean isLeftArmyTarget)`, который отвечает за создание перечня подходящих для атаки юнитов.
- **UnitTargetPathFinder**: Содержит метод `List<Edge> getTargetPath(Unit attackUnit, Unit targetUnit, List<Unit> existingUnitList)`, который отвечает за поиск наикратчайшего пути между атакующим и атакуемым юнитом.

## Детали реализации

### Метод `generate` интерфейса `GeneratePreset`
Этот метод формирует пресет армии компьютера. Задача заключается в том, чтобы сформировать армию с максимальной эффективностью по соотношению атаки к стоимости, с учётом ограничения на количество юнитов каждого типа. Ожидается, что метод будет иметь сложность около **O(n log n)**, где `n` — количество типов юнитов.

### Метод `simulate` интерфейса `SimulateBattle`
Метод осуществляет симуляцию боя между армией игрока и армией компьютера. В ходе симуляции юниты сортируются по убыванию значения атаки и атакуют по очереди, пока одна из армий не будет полностью уничтожена. Алгоритм должен работать эффективно, с оценкой сложности **O(n * m)**, где `n` и `m` — количество юнитов в армиях.

### Метод `getSuitableUnits` интерфейса `SuitableForAttackUnitsFinder`
Метод находит список юнитов, которые могут быть атакованы в зависимости от их расположения в ряду и армиям, к которым они принадлежат. Ожидается сложность **O(n * m)**, где `n` — количество строк, а `m` — количество юнитов в строке.

### Метод `getTargetPath` интерфейса `UnitTargetPathFinder`
Этот метод находит кратчайший путь между атакующим и атакуемым юнитами. Алгоритм использует методы теории графов для поиска пути с учётом препятствий. Ожидается сложность **O(n * m * log(n * m))**, где `n` — ширина поля, а `m` — высота.

## Структура файлов

- **src/**: Исходный код проекта.
  - **programs/**: Папка с исходниками для каждого алгоритма (например, `GeneratePresetImpl.java`, `SimulateBattleImpl.java`, и так далее).
  - **libs/**: Папка с библиотеками (например, `heroes_task_lib-1.0-SNAPSHOT.jar`).
- **build.gradle**: Система сборки для проекта.
- **README.md**: 

